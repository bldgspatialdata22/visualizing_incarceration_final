[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This site was made for the final project for GES 660. GES 660 was taught by Eli Pousson at UMBC in the GES department.\nIn GES 660: Building Spatial Datasets we are learning how to work with spatial data for research and practice with open-source tools. One of those tools we are encouraged to use is quarto with R and github. This class was my first exposure to quarto and quarto sites."
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "Getting the Data",
    "section": "",
    "text": "FamHIS\nThe source for the estimates for how many people had an immediate family member that had been incarcerated was The FamHIS Study (Enns et al. 2019) . This study in conjunction with the 2018 5 year ACS (American Community Survey) block group level data were the foundation for the dots in the dot density map. For the purposes of this project and the accompanying time, money, space limitations the study area was limited to Maryland. Since Maryland is located in the South I used the average estimates by race multiplied by 1.088 which could be used as a factor for how much the rate would increase in that particular census region. This was determined from the statistics provided in the study. It is important to remember that both the numbers from the ACS the FamHIS are estimates with margins of error and are not exact numbers.\n\n\nACS\n2018 5 year ACS (American Community Survey) block group level data were gathered and transformed in R and QGIS [(“Population and Race Statistics, 2014-2018 American Community Survey 5-Year Estimates” 2018)].\n\nlibrary(tidycensus)\nlibrary(tidyverse)\nlibrary(tigris)\nlibrary(sf)\n\n\n# grab maryland 2018 acs 5 year block group data \n\nmaryland_2018 <- get_acs(geography = \"block group\", \n                         variables = c(\"pop\" = \"B03002_001\", # Total\n                                       \"pop_nhwhite\" = \"B03002_003\", # NH White\n                                        \"pop_nhblack\" = \"B03002_004\", # NH Black\n                                        \"pop_nhamind\" = \"B03002_005\", # NH Am Ind\n                                        \"pop_nhasian\" = \"B03002_006\", # NH Asian\n                                        \"pop_nhhwnpi\" = \"B03002_007\", # NH Hawaiin/PI\n                                        \"pop_nhother\" = \"B03002_008\", # One Other\n                                        \"pop_nhtwomr\" = \"B03002_009\", # Two+\n                                        \"pop_hispltx\" = \"B03002_012\"), # Hispanic/Latinx\n                          \n                          year = 2018,\n                          survey = \"acs5\",\n                          state = c(\"MD\"), \n                          geometry = TRUE, \n                          output=\"wide\")\n\n\n# manipulate columns so they make sense for final categories\n\nmaryland_2018$pop_nhotherXE <- maryland_2018$pop_nhotherE + maryland_2018$pop_nhtwomrE + maryland_2018$pop_nhasianE + maryland_2018$pop_nhhwnpiE\n\n\n# pivot for dot density render\n\nmaryland_to_pivot <- maryland_2018 \n\nmaryland_to_pivot <- select(maryland_2018, -ends_with(\"M\"))\n\nmaryland_to_pivot <- select(maryland_to_pivot, -pop_nhasianXE)\n\nmaryland_to_pivot <- maryland_to_pivot %>%\n  rename(pop = popE,\n         e_white = pop_nhwhiteE,\n         e_black =  pop_nhblackE,\n         e_amind = pop_nhamindE, \n         e_other = pop_nhotherXE, \n         e_hispanic = pop_hispltxE)\n\nmaryland_to_pivot <- select(maryland_to_pivot, -pop_nhtwomrE)\n\nmaryland_to_pivot <- select(maryland_to_pivot, -pop)\n\nmaryland_to_pivot <- maryland_to_pivot %>%\n  pivot_longer(\n    cols = starts_with(\"e_\"),\n    names_to = \"ethnicity\",\n    names_prefix = \"e_\",\n    values_to = \"count\",\n    values_drop_na = FALSE\n  )\n\nThis pivoted data was then used to generate points in polygons in QGIS. Each point had an associated ethnicity. Then the data was multiplied by the percentages taken from the FamHIS study.\n\n\nPrisons and Jails\nThe prisons and jails dataset comes from the decennial census which I have fetched using R is based on this script (“Prisons and Jails by City, 2010 Decennial” 2010).\n\nlibrary(totalcensus)  \nlibrary(tidyverse)\n\nset_path_to_census(here::here(\"data\"))\n# fetch prisons and jails\npris_pop <- read_decennial(\n  year = 2010,\n  states = \"MD\",\n  table_contents = c(\n    \"total = PCT0200003\",\n    \"fed_pris = PCT0200005\",\n    \"state_pris = PCT0200006\",\n    \"local_jail = PCT0200007\"\n  ),\n  summary_level = \"county subdivision\",\n  show_progress = FALSE\n) %>%\n  # remove county subdivisions that has no prison population\n  filter(fed_pris != 0 | state_pris != 0 | local_jail != 0) %>%\n  mutate(fed_pris = ifelse(fed_pris == 0, NA, fed_pris)) %>%\n  mutate(state_pris = ifelse(state_pris == 0, NA, state_pris)) %>%\n  mutate(local_jail = ifelse(local_jail == 0, NA, local_jail)) %>%\n  select(lon, lat, NAME, fed_pris, state_pris, local_jail) %>%\n  gather(key = \"type\", value = \"inmates\", -c(lon, lat, NAME)) %>%\n  filter(!is.na(inmates)) %>%\n  mutate(type = factor(\n    type,\n    levels = c(\"local_jail\", \"state_pris\", \"fed_pris\")\n  )) %>%\n  arrange(-inmates)\nreadr::write_rds(pris_pop, here::here(\"data/pris_pop.rds\"))\n\n\n\nMapping Tiles\nTo create the tiles for the web app visualization I had to install tippecanoe and Homebrew on OSX and then run a script to create the tiles in R and then push the tiles onto my mapbox account. I also referenced this tutorial by Kyle Walker for creating tiles.\n\nlibrary(mapboxapi)\n\n# create tiles\ntippecanoe(input = \"md_2018_dots.geojson\",\n           output = \"md_2018_dots.mbtiles\",\n           layer_name = \"md_2018_dots\")\n\n\n# upload tiles\nupload_tiles(input = \"md_vis_incarceration_4326.mbtiles\", username = \"username\", access_token = \"token\",\n             tileset_id = \"md_vis_incarceration\",\n             multipart = TRUE)\n\n\n\n\n\n\nReferences\n\nEnns, Peter K., Youngmin Yi, Megan Comfort, Alyssa W. Goldman, Hedwig Lee, Christopher Muller, Sara Wakefield, Emily A. Wang, and Christopher Wildeman. 2019. “What Percentage of Americans Have Ever Had a Family Member Incarcerated?: Evidence from the Family History of Incarceration Survey (FamHIS):” Socius, March. https://doi.org/10.1177/2378023119829332.\n\n\n“Population and Race Statistics, 2014-2018 American Community Survey 5-Year Estimates.” 2018. U.S. Census Bureau.\n\n\n“Prisons and Jails by City, 2010 Decennial.” 2010. U.S. Census Bureau."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "The Scope of Mass Incarceration",
    "section": "",
    "text": "The true scope of mass incarceration cannot be realized without understanding how this system affects families and communities around the country. Studies show that an estimated 1 in 2 people in the United States have a parent, partner or sibling that has been incarcerated.\nThis map uses population frequencies by race. Overall, 42% of white people, 48% of hispanic people, 63% of Black people, and 63% of Native people have a parent, partner or sibling that has been incarcerated at a prison or jail. When you look at both gender and race, Black women are most likely to know an immediate family member or partner that has been incarcerated. Future visualizations will account for income, education level, and region.\nIf you click a facility, you can see the district name, number of inmates, and facility type. Resources to learn more are below the map."
  },
  {
    "objectID": "index.html#visualization",
    "href": "index.html#visualization",
    "title": "The Scope of Mass Incarceration",
    "section": "Visualization",
    "text": "Visualization"
  },
  {
    "objectID": "index.html#process",
    "href": "index.html#process",
    "title": "The Scope of Mass Incarceration",
    "section": "Process",
    "text": "Process\nThis project aims to visualize the true scope of mass incarceration, not just prisons + jails, but those impacted. While no spatial data on this existed, a study from researchers at Cornell published in 2019 created estimates associated with various demographics estimated how many people in the United States had an Immediate Family Member that was incarcerated. For this project, these estimates were visualized using a dot density map with 1 dot = 1 person.\nI was able to produce this visualization using the mapboxapi, leaflet, tidycensus, tidyverse, totalcensus, and tippecanoe packages along with data from the American Community Survey and the Decennial Census."
  },
  {
    "objectID": "index.html#next-steps",
    "href": "index.html#next-steps",
    "title": "The Scope of Mass Incarceration",
    "section": "Next Steps",
    "text": "Next Steps\n\nadding the qualitative data and pop-ups\nadding more capability to the site, adding more javascript and html elements to add more context for the users of the site\nnow that I know this works, and i already have the data, extending this to the entire US"
  },
  {
    "objectID": "index.html#learn-more",
    "href": "index.html#learn-more",
    "title": "The Scope of Mass Incarceration",
    "section": "Learn More",
    "text": "Learn More\nCornell Study | Bail Funds by State | Abolition Reading List"
  },
  {
    "objectID": "map.html",
    "href": "map.html",
    "title": "Map",
    "section": "",
    "text": "The code for making the final visualization is below:\n\nlibrary(mapboxapi)\nlibrary(leaflet)\nlibrary(sf)\n\npris_pop <-st_read(\"https://raw.githubusercontent.com/sabatinoalicia/sabatinoalicia.github.io/main/data/md_prisons.geojson\", quiet= TRUE)\n\n# for legend since tiles are on mapbox\n\nethnicities <- c(\"white\", \"black\", \"hispanic\", \"native\", \"other\")\ncolors <- c(\"#6C26E3\", \"#C8A437\", \"#DC2E2E\", \"#62EA8F\" , \"#EA1AE6\")\n\ndf <- data.frame (ethnicity  = ethnicities,\n                  numbers = c(1,2,3,4,5))\n\n\npal <- colorFactor(\n  palette = c( \"#C8A437\",\"#DC2E2E\", \"#EA1AE6\", \"#62EA8F\" , \"#6C26E3\"),\n  domain =  df$ethnicity\n)\n\n# create legend\n\nhtml_legend <- \"<img src='https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Circle_Grey_Solid.svg/1200px-Circle_Grey_Solid.svg.png'width='7' height='7'> federal prison<br/>\n<img src='https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Triangle_gray.svg/1200px-Triangle_gray.svg.png' width='7' height='7'> state prison<br/>\n<img src='https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Square_gray.svg/1200px-Square_gray.svg.png' width='7' height='7'> local jail\"\n\n# create icons for prisons and jails\n\nmarkers <- iconList(\n  \"fed_pris\" = makeIcon(\n    iconUrl = \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Circle_Grey_Solid.svg/1200px-Circle_Grey_Solid.svg.png\",\n    iconWidth = 7,\n    iconHeight = 7\n  ),\n  \"state_pris\" = makeIcon(\n    iconUrl = \"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Triangle_gray.svg/1200px-Triangle_gray.svg.png\",\n    iconWidth = 7,\n    iconHeight = 7\n  ),\n  \"local_jail\" = makeIcon(\n    iconUrl = \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Square_gray.svg/1200px-Square_gray.svg.png\",\n    iconWidth = 7,\n    iconHeight = 7\n  )\n)\n\n# leaflet map\n\nleaflet() %>%\n  setView(-76.6122,39.2904, zoom = 8)  %>%\n  addMapboxTiles(style_id = \"clbayh4cd000115qlo4mprr4r\",\n                 username = \"alicia15\") %>%\n  addLegend(pal = pal, values = df$ethnicity, title = \"Ethnicity\") %>%\n  addMarkers(lng = pris_pop$lon, lat = pris_pop$lat, icon = markers[pris_pop$type],\n            popup = paste(pris_pop$inmates, \"inmates,\", pris_pop$NAME)) %>%\n  addControl(html = html_legend, position = \"bottomleft\")"
  }
]